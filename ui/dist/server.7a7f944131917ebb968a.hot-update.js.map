{"version":3,"sources":["webpack:///./server/render.jsx","webpack:///./src/IssueEdit.jsx"],"names":["render","req","res","activeRoute","routes","find","route","matchPath","path","initialData","component","fetchData","match","index","url","indexOf","search","substr","store","element","body","ReactDOMServer","renderToString","send","template","IssueEdit","React","Component","showError","query","params","id","result","graphQLFetch","parseInt","constructor","issue","state","invalidFields","showingValidation","toastVisible","toastMessage","toastType","onChange","bind","handleSubmit","onValidityChange","showSuccess","dismissToast","componentDidMount","loadData","componentDidUpdate","prevProps","prevId","props","event","valid","name","target","setState","prevState","naturalValue","value","textValue","undefined","e","preventDefault","showValidation","Object","keys","length","created","changes","data","issueUpdate","dismissValidation","message","propsId","title","status","owner","effort","description","due","validationMessage","ControlLabel","toDateString","TextInput","NumInput","DateInput"],"mappings":"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","file":"server.7a7f944131917ebb968a.hot-update.js","sourcesContent":["import React from 'react';\nimport ReactDOMServer from 'react-dom/server';\nimport { StaticRouter, matchPath } from 'react-router-dom';\n\nimport Page from '../src/Page.jsx';\nimport template from './template.js';\nimport store from '../src/store.js';\nimport routes from '../src/routes.js';\n\nasync function render(req, res) {\n  const activeRoute = routes.find(\n    route => matchPath(req.path, route),\n  );\n\n  let initialData;\n  if (activeRoute && activeRoute.component.fetchData) {\n    const match = matchPath(req.path, activeRoute);\n    const index = req.url.indexOf('?');\n    const search = index !== -1 ? req.url.substr(index) :null;\n    initialData = await activeRoute.component.fetchData(match, search);\n  }\n\n  store.initialData = initialData;\n  const element = (\n    <StaticRouter location={req.url} context={{}}>\n      <Page />\n    </StaticRouter>\n  );\n  const body = ReactDOMServer.renderToString(element);\n  res.send(template(body, initialData));\n}\n\nexport default render;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport {\n  Col, Panel, Form, FormGroup, FormControl, ControlLabel,\n  ButtonToolbar, Button, Alert,\n} from 'react-bootstrap';\nimport graphQLFetch from './graphQLFetch.js';\nimport NumInput from './NumInput.jsx';\nimport DateInput from './DateInput.jsx';\nimport TextInput from './TextInput.jsx';\nimport Toast from './Toast.jsx';\nimport store from './store.js';\n\nexport default class IssueEdit extends React.Component {\n  static async fetchData(match, search, showError) {\n    const query = `query issue($id: Int!) {\n      issue(id: $id) {\n        id title status owner\n        effort created due description\n      }\n    }`;\n\n    const { params: { id } } = match;\n    const result = await graphQLFetch(query, { id: parseInt(id, 10) }, showError);\n    return result;\n  }\n\n  constructor() {\n    super();\n    const issue = store.initialData ? store.initialData.issue : null;\n    delete store.initialData;\n    this.state = {\n      issue,\n      invalidFields: {},\n      showingValidation: false,\n      toastVisible: false,\n      toastMessage: '',\n      toastType: 'success',\n    };\n    this.onChange = this.onChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onValidityChange = this.onValidityChange.bind(this);\n    this.showSuccess = this.showSuccess.bind(this);\n    this.showError = this.showError.bind(this);\n    this.dismissToast = this.dismissToast.bind(this);\n  }\n\n  componentDidMount() {\n    const { issue } = this.state;\n    if (issue == null) this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { match: { params: { id: prevId } } } = prevProps;\n    const { match: { params: { id } } } = this.props;\n    if (id !== prevId) {\n      this.loadData();\n    }\n  }\n\n  onValidityChange(event, valid) {\n    const { name } = event.target;\n    this.setState((prevState) => {\n      const invalidFields = { ...prevState.invalidFields, [name]: !valid };\n      if (valid) delete invalidFields[name];\n      return { invalidFields };\n    });\n  }\n\n  onChange(event, naturalValue) {\n    const { name, value: textValue } = event.target;\n    const value = naturalValue === undefined ? textValue : naturalValue;\n    this.setState(prevState => ({\n      issue: { ...prevState.issue, [name]: value },\n    }));\n  }\n\n  async handleSubmit(e) {\n    e.preventDefault();\n    this.showValidation();\n    const { issue, invalidFields } = this.state;\n    if (Object.keys(invalidFields).length !== 0) return;\n    const query = `mutation issueUpdate(\n      $id: Int!\n      $changes: IssueUpdateInputs!\n      ) {\n      issueUpdate(\n      id: $id\n      changes: $changes\n      ) {\n      id title status owner\n      effort created due description\n      }\n      }`;\n    const { id, created, ...changes } = issue;\n    const data = await graphQLFetch(query, { changes, id }, this.showError);\n    if (data) {\n      this.setState({ issue: data.issueUpdate });\n      this.showSuccess('Updated issue successfully');\n    }\n  }\n\n  async loadData() {\n    const { match } = this.props;\n    const data = await IssueEdit.fetchData(match, null, this.showError);\n    this.setState({ issue: data ? data.issue : {}, invalidFields: {} });\n  }\n\n  showValidation() {\n    this.setState({ showingValidation: true });\n  }\n\n  dismissValidation() {\n    this.setState({ showingValidation: false });\n  }\n\n  showSuccess(message) {\n    this.setState({\n      toastVisible: true, toastMessage: message, toastType: 'success',\n    });\n  }\n\n  showError(message) {\n    this.setState({\n      toastVisible: true, toastMessage: message, toastType: 'danger',\n    });\n  }\n\n  dismissToast() {\n    this.setState({ toastVisible: false });\n  }\n\n  render() {\n    const { issue } = this.state;\n    if (issue == null) return null;\n\n    const { issue: { id } } = this.state;\n    const { match: { params: { id: propsId } } } = this.props;\n    const { toastVisible, toastMessage, toastType } = this.state;\n    if (id == null) {\n      if (propsId != null) {\n        return <h3>{`Issue with ID ${propsId} not found.`}</h3>;\n      }\n      return null;\n    }\n\n    const { issue: { title, status } } = this.state;\n    const { issue: { owner, effort, description } } = this.state;\n    const { issue: { created, due } } = this.state;\n    const { invalidFields, showingValidation } = this.state;\n    let validationMessage;\n\n    if (Object.keys(invalidFields).length !== 0 && showingValidation) {\n      validationMessage = (\n        <Alert bsStyle=\"danger\" onDismiss={this.dismissValidation}>\n          Please correct invalid fields before submitting.\n        </Alert>\n      );\n    }\n    return (\n      <Panel>\n        <Panel.Heading>\n          <Panel.Title>{`Editing issue: ${id}`}</Panel.Title>\n        </Panel.Heading>\n        <Panel.Body>\n          <Form horizontal onSubmit={this.handleSubmit}>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Created</Col>\n              <Col sm={9}>\n                <FormControl.Static>\n                  {created.toDateString()}\n                </FormControl.Static>\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Status</Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass=\"select\"\n                  name=\"status\"\n                  value={status}\n                  onChange={this.onChange}\n                >\n                  <option value=\"New\">New</option>\n                  <option value=\"Assigned\">Assigned</option>\n                  <option value=\"Fixed\">Fixed</option>\n                  <option value=\"Closed\">Closed</option>\n                </FormControl>\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Owner</Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass={TextInput}\n                  name=\"owner\"\n                  value={owner}\n                  onChange={this.onChange}\n                  key={id}\n                />\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Effort</Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass={NumInput}\n                  name=\"effort\"\n                  value={effort}\n                  onChange={this.onChange}\n                  key={id}\n                />\n              </Col>\n            </FormGroup>\n            <FormGroup validationState={\n              invalidFields.due ? 'error' : null\n            }\n            >\n              <Col componentClass={ControlLabel} sm={3}>Due</Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass={DateInput}\n                  onValidityChange={this.onValidityChange}\n                  name=\"due\"\n                  value={due}\n                  onChange={this.onChange}\n                  key={id}\n                />\n                <FormControl.Feedback />\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Title</Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass={TextInput}\n                  size={50}\n                  name=\"title\"\n                  value={title}\n                  onChange={this.onChange}\n                  key={id}\n                />\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col componentClass={ControlLabel} sm={3}>Description</Col>\n              <Col sm={9}>\n                <FormControl\n                  componentClass={TextInput}\n                  tag=\"textarea\"\n                  rows={4}\n                  cols={50}\n                  name=\"description\"\n                  value={description}\n                  onChange={this.onChange}\n                  key={id}\n                />\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col smOffset={3} sm={6}>\n                <ButtonToolbar>\n                  <Button bsStyle=\"primary\" type=\"submit\">Submit</Button>\n                  <LinkContainer to=\"/issues\">\n                    <Button bsStyle=\"link\">Back</Button>\n                  </LinkContainer>\n                </ButtonToolbar>\n              </Col>\n            </FormGroup>\n            <FormGroup>\n              <Col smOffset={3} sm={9}>{validationMessage}</Col>\n            </FormGroup>\n          </Form>\n        </Panel.Body>\n        <Panel.Footer>\n          <Link to={`/edit/${id - 1}`}>Prev</Link>\n          {' | '}\n          <Link to={`/edit/${id + 1}`}>Next</Link>\n        </Panel.Footer>\n        <Toast\n          showing={toastVisible}\n          onDismiss={this.dismissToast}\n          bsStyle={toastType}\n        >\n          {toastMessage}\n        </Toast>\n      </Panel>\n    );\n  }\n}\n"],"sourceRoot":""}